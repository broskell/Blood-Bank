<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Hospital Blood Panel</title>

    <!-- Your main CSS -->
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" href="assets/mainlogo.png" type="image/x-icon" />

    <!-- Firebase SDKs (compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  </head>
  <body class="hospital-login-page">
    
    <!-- HOSPITAL LOGIN -->
    <div class="box login-container" id="loginDiv">
        <!-- Logo Image -->
        <img src="assets/mainlogo.png" alt="Hospital Logo" class="hospital-logo" />
        
        <h2>Hospital Login</h2>

        <div class="input-group">
            <i class="far fa-envelope input-icon"></i>
            <input type="email" id="loginEmail" placeholder="Email" />
        </div>

        <div class="input-group">
            <i class="fas fa-lock input-icon"></i>
            <input type="password" id="loginPassword" placeholder="Password" />
        </div>

        <button onclick="login()">Login</button>
        <p onclick="showRegister()" class="toggle-link">Create new hospital account</p>
    </div>

    <!-- HOSPITAL REGISTER (Hidden) -->
    <div class="box login-container" id="registerDiv" style="display: none">
        <!-- Logo Image -->
        <img src="assets/hospital_login.png" alt="Hospital Logo" class="hospital-logo" />
        
        <h2>Register Hospital</h2>

        <div class="input-group">
            <i class="far fa-envelope input-icon"></i>
            <input type="email" id="regEmail" placeholder="Email" />
        </div>

        <div class="input-group">
            <i class="fas fa-lock input-icon"></i>
            <input type="password" id="regPassword" placeholder="Password" />
        </div>

        <button onclick="register()">Register</button>
        <p onclick="showLogin()" class="toggle-link">Already have an account</p>
    </div>

    <!-- DASHBOARD (Hidden) -->
    <div class="dashboard" id="dashboardDiv" style="display: none">
        <div class="top">
            <h1>Hospital Blood Panel</h1>
            <button class="top-logout" onclick="logout()">Logout</button>
        </div>
        
        <div class="cards">
            <div class="card" id="requestCard">Request Blood Units</div>
            <div class="card" id="statusCard">Track Request Status</div>
            <div class="card" id="availabilityCard">View Availability</div>
        </div>

        <!-- REQUEST BLOOD UNITS (with dropdowns) -->
        <div class="section" id="requestSection" style="display: none">
            <h3>Request Blood Units</h3>

            <!-- Blood Group Dropdown -->
            <label for="reqBloodGroup">Blood Group</label>
            <select id="reqBloodGroup">
                <option value="">-- Select Blood Group --</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
            </select>

            <!-- Units Dropdown -->
            <label for="reqUnits">Units Needed</label>
            <select id="reqUnits">
                <option value="">-- Select Units --</option>
                <option value="1">1 unit</option>
                <option value="2">2 units</option>
                <option value="3">3 units</option>
                <option value="4">4 units</option>
                <option value="5">5 units</option>
                <option value="6">6 units</option>
                <option value="7">7 units</option>
                <option value="8">8 units</option>
                <option value="9">9 units</option>
                <option value="10">10 units</option>
            </select>

            <!-- Reason (kept as free text) -->
            <label for="reqReason">Reason / Patient Info</label>
            <input id="reqReason" placeholder="Reason / Patient info" />

            <button onclick="submitRequest()">Submit Request</button>
        </div>

        <!-- TRACK REQUEST STATUS -->
        <div class="section" id="statusSection" style="display: none">
            <h3>Request Status</h3>
            <div id="requestList"></div>
        </div>

        <!-- VIEW AVAILABILITY -->
        <div class="section" id="availabilitySection" style="display: none">
            <h3>Current Blood Availability</h3>
            <div id="availabilityList"></div>
        </div>
    </div>

    <!-- Firebase init -->
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyC5SUAwMlWuXoWTChmh-LN76LxE56B0cLU",
        authDomain: "blood-bank-17.firebaseapp.com",
        projectId: "blood-bank-17",
        storageBucket: "blood-bank-17.firebasestorage.app",
        messagingSenderId: "1057545309574",
        appId: "1:1057545309574:web:02fd3d4bf7caf17ee77007",
        measurementId: "G-JF4TYRRR69"
      };

      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }
    </script>

    <script src="js/hospital.js"></script>
  </body>
</html>