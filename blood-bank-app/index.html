<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Blood Bank Management System</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="assets/mainlogo.png" type="image/x-icon" />
</head>

<body>
    <!-- Header / Navigation (FR-HOME-2) -->
    <header class="main-header">
        <div class="logo">
            <h1>City Blood Bank</h1>
            <p>Blood Bank Management System</p>
        </div>
        <nav class="main-nav">
            <a href="#availability">Blood Availability</a>
            <a href="#roles">Get Started</a>
            <a href="#contact">Contact</a>
        </nav>
    </header>

    <!-- Hero / Intro Section (FR-HOME-5) -->
    <section class="hero">
        <div class="hero-text">
            <h2>Connect Donors, Hospitals, and Blood Banks</h2>
            <p>
                This system helps hospitals request blood,
                donors register their availability,
                and the blood bank manage its inventory.
            </p>
            <p><strong>Choose your role to continue:</strong></p>
            <div class="hero-buttons">
                <a href="#roles" class="btn primary">I want to Donate</a>
                <a href="#roles" class="btn secondary">I am a Hospital</a>
            </div>
        </div>
    </section>

    <!-- Blood Availability Overview (FR-HOME-1) -->
    <section id="availability" class="availability-section">
        <h2>Current Blood Availability</h2>
        <p class="section-desc">
            This table shows sample availability data.
            In the final system, it will be updated from the blood bank inventory.
        </p>

        <table class="availability-table">
            <thead>
                <tr>
                    <th>Blood Group</th>
                    <th>Available Units</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="availability-table-body">
                <!-- Static sample data for now -->
                <tr>
                    <td>A+</td>
                    <td>12</td>
                    <td class="status-ok">OK</td>
                </tr>
                <tr>
                    <td>A-</td>
                    <td>4</td>
                    <td class="status-low">Low</td>
                </tr>
                <tr>
                    <td>B+</td>
                    <td>8</td>
                    <td class="status-ok">OK</td>
                </tr>
                <tr>
                    <td>B-</td>
                    <td>2</td>
                    <td class="status-low">Low</td>
                </tr>
                <tr>
                    <td>O+</td>
                    <td>15</td>
                    <td class="status-ok">OK</td>
                </tr>
                <tr>
                    <td>O-</td>
                    <td>1</td>
                    <td class="status-critical">Critical</td>
                </tr>
                <tr>
                    <td>AB+</td>
                    <td>6</td>
                    <td class="status-ok">OK</td>
                </tr>
                <tr>
                    <td>AB-</td>
                    <td>0</td>
                    <td class="status-critical">Critical</td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- PUBLIC HEALTH DATA (Third-party API) -->
    <section id="public-api-section" class="public-api-section">
        <h2>Hospital Capacity (Public API)</h2>
        <p class="section-desc">
            This data is fetched in real time from a public API
            (<code>api.rootnet.in</code>) that provides hospital and bed statistics
            for Indian states.
        </p>

        <div class="public-api-box">
            <div class="public-api-controls">
                <label for="stateSelect">Select State:</label>
                <select id="stateSelect">
                    <option value="">Loading states...</option>
                </select>
            </div>

            <div id="stateStats" class="public-api-stats">
                <!-- Filled by JS -->
                <p>Waiting for data...</p>
            </div>
        </div>
    </section>

    <!-- Role-based entry points (FR-HOME-2) -->
    <section id="roles" class="roles-section">
        <h2>Choose Your Role</h2>
        <div class="role-cards">
            <div class="role-card">
                <h3>Donor</h3>
                <p>
                    Register as a blood donor, update your availability,
                    and help save lives.
                </p>
                <!-- Next page we will actually create these links -->
                <a href="donor_register.html" class="btn primary">Register / Login</a>
            </div>
            <div class="role-card">
                <h3>Hospital</h3>
                <p>
                    Request blood units, track request status,
                    and view availability.
                </p>
                <a href="hospital_portal.html" class="btn primary">Hospital Portal</a>
            </div>
            <div class="role-card">
                <h3>Admin (Blood Bank)</h3>
                <p>
                    Manage blood inventory, approve requests,
                    and monitor donors.
                </p>
                <a href="admin_panel.html" class="btn primary">Admin Login</a>
            </div>
        </div>
    </section>
    
    <!-- Floating Chatbot -->
    <div id="chatbot-root">
        <!-- Floating button -->
        <button id="chatbotToggleBtn" class="chatbot-floating-btn" aria-label="Open chat">
            üí¨
        </button>
    
        <!-- Chat window -->
        <div id="chatbotWindow" class="chatbot-window" aria-hidden="true">
            <div class="chatbot-header">
                <div>
                    <div class="chatbot-title">BloodBankBot</div>
                    <div class="chatbot-subtitle">Ask about donors, hospitals, or admin</div>
                </div>
                <button id="chatbotCloseBtn" class="chatbot-close-btn" aria-label="Close chat">‚úï</button>
            </div>
    
            <div id="chatbotMessages" class="chatbot-messages">
                <!-- Messages will be added by JS -->
            </div>
    
            <div class="chatbot-input-area">
                <input type="text" id="chatbotInput" placeholder="Ask something like: How to request blood?" />
                <button id="chatbotSendBtn">Send</button>
            </div>
        </div>
    </div>

    <!-- Contact / Footer (FR-HOME-4) -->
    <footer id="contact" class="main-footer">
       <div class="footer-content">

            <div class="footer-left">
            <!-- Left: Logo -->
              <div class="footer-logo">
                <span class="heart">‚ù§</span>
                <span class="footer-title">City Blood Bank</span>
              </div>
            </div>

           <!-- Center: Emergency -->
         <div class="footer-center">
             <h4>Emergency Contact</h4>
             <p>Phone: +91-98765-43210</p>
             <p>Email: contact@citybloodbank.org</p>
             <p>Address: City Blood Bank, Main Hospital Road, Your City</p>
         </div>

         <!-- Right: About -->
          <div class="footer-right">
           <h4>About this Project</h4>
           <p>
              This is an academic mini-project demonstrating a Blood Bank
              Management Web Application using HTML, CSS, and JavaScript.
          </p>
        </div>

      </div>

      <p class="footer-bottom">
         ¬© 2025 City Blood Bank. Academic Project.
      </p>
    </footer>

    <script src="js/app.js"></script>
    <script src="js/chatbot.js"></script>
</body>
</html>